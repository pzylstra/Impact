library(frame)
library(dplyr)
library(extraDistr)
source("Fires_functions.R")
source("Heating_functions.R")
source("ChapmanRichards.R")
a <- 1  #Record to be modelled
ageStep <- 1 #Years between age classes
firstAge <- 52 #Age of the youngest age class
steps <-18 #Number of age class steps to take
tAge <- 75 #Age of the trees at the starting point
suspNS <- ""
SLOPE <- 0
site<-read.csv("C:/Users/soroush/Documents/Phil Impact package/site_mon.csv")
Structure<-read.csv("C:/Users/soroush/Documents/Phil Impact package/structure_mon.csv")
Flora<-read.csv("C:/Users/soroush/Documents/Phil Impact package/flora_mon.csv")
DefaultSpeciesParams <- read.csv("C:/Users/soroush/Documents/Phil Impact package/Traits_mon.csv")
growth <- read.csv("C:/Users/soroush/Documents/Phil Impact package/growth_mon.csv")
cover <- read.csv("C:/Users/soroush/Documents/Phil Impact package/cover_mon.csv")
weather <- read.csv("C:/Users/soroush/Documents/Phil Impact package/Cooma_FebWF.csv")
base.params <- paramBuilder(site, Structure, Flora,  DefaultSpeciesParams = DefaultSpeciesParams[,-1], 1)
base.params$value[base.params$param == "leafForm"] <- "flat"
# Set slope
base.params <- base.params %>%
ffm_set_site_param("slope", SLOPE, "deg")
dyn <- fireDynamics(base.params, weather, growth, cover, Flora, jitters = 10, ageStep = ageStep,
firstAge = firstAge,
steps = steps, tAge = tAge, l = 0.1, DefaultSpeciesParams = DefaultSpeciesParams, Ms = 0.01, Pm = 1,
Mr = 1.001, Hs = 1.25, Hr = 1.42, a = a, suspNS = suspNS, density = 300)
base.params <- olsen(base.params, growth, age)
base.params <- olsen(base.params, growth, 20)
weatherSet(base.params, weather, out.db = "out_mon.db", jitters = jitters, l = 0.1,
Ms = 0.01, Pm = 1, Mr = 1.001, Hs = 0.2, Hr = 1.41)
weatherSet(base.params, weather, out.db = "out_mon.db", jitters = 10, l = 0.1,
Ms = 0.01, Pm = 1, Mr = 1.001, Hs = 0.2, Hr = 1.41)
res<-ffm_db_load("out_mon.db")
# SUMMARISE RESULTS
#Build tables
surf <- surf(res$SurfaceResults)
x <- stratum(res$FlameSummaries, res$Sites, res$ROS, surf)
runs <- summary(x, surf)%>%
mutate(time = ceiling(repId/jitters))
runs <- summary(x, surf)%>%
mutate(time = ceiling(repId/10))
IP <- repFlame(res$IgnitionPaths)
devtools::load_all(".")
devtools::load_all("~/Phil Impact package/Impacts_mod_1")
devtools::load_all("~/Phil Impact package/Impacts_mod_1")
devtools::load_all("~/Phil Impact package/impacts_mod_1")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
F & F
T | F
T & F
F & F
